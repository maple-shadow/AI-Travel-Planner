# AI旅行规划师 - 项目架构设计文档

## 1. 项目概述
AI旅行规划师采用前后端分离架构，将系统拆分为多个独立模块，每个模块职责单一，便于开发和维护。

## 2. 整体架构

### 前端架构
```
frontend/
├── src/
│   ├── core/                 # 核心模块
│   │   ├── auth/            # 认证模块
│   │   ├── router/          # 路由模块
│   │   └── store/           # 状态管理模块
│   ├── features/            # 功能模块
│   │   ├── trip-planning/   # 行程规划模块
│   │   ├── budget-manager/  # 预算管理模块
│   │   ├── user-profile/    # 用户资料模块
│   │   └── map-navigation/  # 地图导航模块
│   ├── shared/              # 共享模块
│   │   ├── components/      # 通用组件
│   │   ├── hooks/           # 自定义Hooks
│   │   ├── utils/           # 工具函数
│   │   └── types/           # 类型定义
│   ├── services/            # API服务模块
│   │   ├── api-client/      # API客户端
│   │   ├── auth-service/    # 认证服务
│   │   ├── trip-service/    # 行程服务
│   │   └── budget-service/  # 预算服务
│   └── assets/              # 静态资源
```

### 后端架构
```
backend/
├── src/
│   ├── core/                 # 核心模块
│   │   ├── config/          # 配置模块
│   │   ├── middleware/       # 中间件模块
│   │   ├── database/         # 数据库模块
│   │   └── utils/            # 工具模块
│   ├── modules/              # 业务模块
│   │   ├── auth/            # 认证模块
│   │   ├── users/           # 用户模块
│   │   ├── trips/           # 行程模块
│   │   ├── budgets/         # 预算模块
│   │   └── ai-services/     # AI服务模块
│   ├── shared/               # 共享模块
│   │   ├── types/           # 类型定义
│   │   ├── constants/       # 常量定义
│   │   └── validators/      # 验证器
│   └── app.ts               # 应用入口
```

## 3. 模块拆分原则

### 前端模块拆分原则
1. **按功能域拆分**：每个功能模块独立
2. **按技术职责拆分**：UI组件、业务逻辑、数据管理分离
3. **按复用性拆分**：可复用组件独立为共享模块

### 后端模块拆分原则
1. **按业务域拆分**：每个业务模块独立
2. **按技术层拆分**：控制器、服务、数据访问层分离
3. **按依赖关系拆分**：低耦合、高内聚

## 4. 模块间通信

### 前端模块通信
- **Props传递**：父子组件通信
- **Context API**：跨组件状态共享
- **Redux Store**：全局状态管理
- **自定义事件**：模块间事件通信

### 后端模块通信
- **RESTful API**：模块间HTTP调用
- **事件驱动**：异步事件处理
- **依赖注入**：模块间依赖管理

## 5. 开发规范

### 模块开发规范
1. 每个模块独立测试
2. 模块接口定义清晰
3. 错误处理统一
4. 日志记录完整

### 代码组织规范
1. 文件命名遵循约定
2. 目录结构一致
3. 导入导出规范
4. 类型定义完整